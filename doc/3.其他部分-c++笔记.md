# 其他部分

文件操作

## 文件操作

- 文件操作属于技术的应用，不是基本语法
- 数据持久化的两个方式：文件+数据库

## 写入文本

文本一般以行的形式组织数据

包含头文件：
```c++
#include<fstream>
```

类：
```c++
ofstream(ouput file stream)
```

案例：

```c++
int main（）{
    //1.创建文件输出流
    ofstream fout;
    //打开文件
    //char filename[] = "test.txt";
    //string filename = "test.txt";
    fout.open("test.txt");

    //创建流的时候打开
    ofstream fout1("test.txt");

    //写入数据
    fout <<"test file text!";

    //关闭文件
    fout.close();
    cout<<"操作完成！";
}
```

文本生成在运行的路径

- 打开文件不存在就会创建
- 打开模式 是否清空内容等
    - iOS::out :覆盖文件
    - ios::trunc:截断内容
    - ios::app:不截断内容，末尾追加
- 打开文件需要判断是否打开成功
    - 代码
    ```c++
    if(fout.is_open() == false){
        cout << "打开失败";
    }
    ```
    - 原因
        - 目录不存在
        - 磁盘满l
        - 权限

## 读取文件

- 只有一种模式 ios::in
- 输入流： ifstream
- 失败原因：
    - 目录不存在
    - 文件不存在
    - 权限

```c++
ifrstream fin;
fin.open(filename,ios::in);

//读取文件
//一般以行的形式存在 getline()

//方法一
string buffer;
getline(fin,buffer);//行读取
while(getline(fin,buffer)){
    cout << " " << buffer << endl;
}

//方法二  如果buffer太小，那么就会截断
char buffer [101];
while(fin.getline(buffer,100)){
    cout << buffer <<edl;
}

//方法三
string buffer;
while(fin >> buffer){
    cout << buffer << endl;
}

```

## 写入二进制文件

文本数据和二进制数据的区别