# c++学习笔记-第一部分 进阶部分

## C++的基本数据类型

(1)	int float double char bool string(不是基本数据类型，但是比较重要)

### int类型

#### 整型的基本概念


(1)	C++使用int关键字声明变量，实际是integer的简写
(2)	声明的时候可以在int关键字之前加signed、unsigned、short、long四种修饰符

①	Signed：有符号的，可以表示正数和负数

②	Unsigned：无符号的

③	Short：短的

④	Long：长的

(3)	C++中没有整数的取值范围，取值返回根据组合来计算得到

#### 整数的书写

(1)	二进制：书写必须以0b（B）开头

(2)	八进制:
①	必须以0开头
②	0-7
(3)	十进制
(4)	十六进制：
①	0x开头

#### 整数的坑

(1)	书写十进制不要在前面加上0，会被认为是八进制	

## longlong类型

1.	vs中long是4个字节
2.	liunx中long是8个字节
3.	long long 类型的整数，至少是8个字节，并且与long的长度一样长


## 浮点型

1.	浮点型包括float 、double、long double 
2.	字符数据类型；
a)	内存占用一个字节，使用单引号
b)	不存放字符本身，只存放编码
c)	内存中存储都是二进制
3.	ASCII：33个控制字符 95个可显示字符
4.	字符的本质
a)	字符本质是整数，取值范围是0-127
b)	书写的时候使用单引号，也可以使用整数
c)	显示的时候可以是整数，也可以是整数
d)	可以和整数进行运算
##	原始字面量

是不需要转义，直接使用他的直接含义

```c++
#include <iostream>
using namespace std;

int main()
{
    string path = "c:\\user";
string path = R"(c:\user)";
//前后必须一致  否则会报错
string path1 = R"aaa(c:\user;)aaa";
    cout << "Hello World!\n";
}
```

## 字符串

(1)	C++风格：string var = “字符串”;		类
(2)	C风格：char[] ch = “字符串”;		字符数组

## 数据类型的抓换

（1）计算机进行运算的时候，要求操作数类型相同的大小和存储方式
（2）转换方式：
    i.	自动转换
    ii.	强制转换

## 数据类型的别名

1.别名的目的
    i.创建别名，方便书写和记忆
    ii.	创建与平台无关的数据类型，提高程序的兼容性
2.兼容性的写法

```c++ 
typedef long int lint;判断使用的机器
```

3.别名可以原原本本的代替原名
4.语法
```c++
typedef 数据类型名  别名
```

## 指针

（1）	C++通过&得到变量的其实地址
（2）	语法
```c++
i.	&变量名
```

（3）指针用于存放变量的地址 
（4）函数中使用
```c++
void printInfo(int* a) {
    cout << *a << endl;
    *a = -1;
}
int main()
{
    int a = 0;
    printInfo(&a);
    cout << a << endl;
}
```

（5）优点：可以提升性能，较少数据的copy

## 使用常量

常量是程序中固定不变的数据

（1）const修饰
（2）在程序的任何地方都可以的
（3）使用它修饰指针

### 常量指针

（1）语法：const 数据类型 *变量名
    i.	不可以使用解指针的方法设置值
    ii.	注意
（2）指向的变量可以改变，值不可以改变（*p =xx值不可以改变）
（3）一般用于修饰函数的形参，表示不希望改变值
（4）如果用于型参，虽然指向对象可以改变，但是没意义

### 指针常量

(1)语法：数据类型 *const 变量名
(2)指向的变量对象不可以改变
(3)注意
    i.	定义的时候必须初始化，否则没意义
    ii.	可以通过解引用方法修改地址中的值
iii.	代码
```c++
Int* const p = &a;
*p = 13;初始化必须设置值   并且值可以修改
```

### 常指针常量

(1)语法：const int *const int

(2)宏常量

i.	一般在main函数之上声明的，使用大写字母

ii.	语法：
```c++
#define NAME C++;
```

### void关键字

(1)C++中，void表示无类型

(2)作用：
i.	函数返回值void
ii.	参数设置为void,表示不需要参数
iii.	-void*作为函数参数，表示可以使用任意类型的参数

(3)注意：

i.	不能使用void声明变量，不可以代表一个真实的变量

ii.	不能对void*指针直接解引用

iii.	把其它类型的指针赋值给void*指针不需要转换

iv.	把void*指针赋值给其他类型的需要转换

## 	内存空间

内核空间  栈空间  堆空间  常量  代码

### 堆和栈的区别

（1）管理方式不同：栈是自己回收的，出作用域就会自己回收，堆需要自己释放

(2)空间大小不同：堆是物理空间决定的，栈一般只有8M

(3)分配方式不同

(4)是否存在碎片

### 动态分配内存new和delete 

（1）使用堆内存的步骤

i.	声明指针

ii.	使用new向系统申请一个内存，让指针指向这块内存

iii.	通过解引用的方法，使用这一块内存

（2）语法：new 数据类型（初始值）

（3）申请成功分配一块地址，如果申请失败，就是一块空地址

（4）释放delete 地址

（5）注意

i.	动态分配内存没有变量名，只能通过指针来操作内存中的数据

ii.	如果动态分配内存不使用了，必须要释放

iii.	动态分配的内存生命周期与程序相同

iv.	指针作用域失效，指向的内存也不会释放

v.	指针跟踪分配内存的时候，不可以跟丢。

## 二级指针

## 空指针

（2）在c或者是c++中，都可以使用0或者NULL表示空指针，在没有赋值之前给它设置空，代表没有指向任何地址

（3）使用空指针的后果

i.	程序崩溃

ii.	对空指针执行delete，系统会忽略该操作，不会出现异常，内存释放后，也应该设置为null。

（4）为什么指向空指针会崩溃

i.	Null指针分配的分区，范围是0x0000-0x0000ffff这个区域是空闲的，没有任何物理存储与之对应，任何读写都会发生异常

（5）	C++11的nullptr

i.	使用0或者NULL会产生歧义，所以建议使用（void*)0

##	野指针

（1）野指针就是一个没有指向一个有效合法的地址

（2）如果访问野指针就会发生崩溃

（3）	出现野指针的情况

i.	指针定义的时候没有初始化，值是不确定的

ii.	使用了动态分配的内存，内存释放了，指针不会置空，但是指向已经失效

iii.	指针指向变量已经超过了作用域

（4）规避方法

i.	指针在定义的时候，如果无指向，就指向nullptr

## 函数指针

（1）函数的二进制代码存放在内存四区中代码段，函数的地址是它在内存中的起始地址，如果将函数地址作为参数传给函数，就可以灵活的调用其他函数

（2）使用函数指针的步骤

i.	声明函数指针

ii.	让函数指针指向函数的地址

iii.	通过函数指针调用函数

（3）代码演示

i.声明函数指针

2.必须提供指针类型（返回值和函数列表）